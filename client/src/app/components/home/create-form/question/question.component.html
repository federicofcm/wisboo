<div fxFlex fxLayoutAlign="center center">
    <form [formGroup]="form" fxFlex="100">
        <div formArrayName="questions" *ngFor="let question of this.questionsArray['controls']; let i = index;" fxLayout="column" style="margin-bottom: 25px;">
          <mat-card class="mat-elevation-z4" [formGroupName]="i" fxLayout="column">
            <div fxLayout="row" fxLayoutAlign="space-between center" style="margin-bottom:15px">
              <span style="color: #808080;">
                Pregunta #{{i+1}}
              </span>
              <div fxLayoutAlign="start">
                <button mat-icon-button color="warn" (click)="this.removeQuestion(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </div>
            <mat-form-field>
                <mat-label>Tipo de pregunta</mat-label>
                <mat-select formControlName="questionType">
                  <mat-option *ngFor="let questionType of questionTypes" [value]="questionType.value">{{questionType.name}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Pregunta</mat-label>
                <input matInput autocomplete="off" formControlName="text">
            </mat-form-field>
            <app-option [form]="this.form" [questionIndex]="i" [questionFormGroup]="this.getQuestionsGroup(i)" (onRemoveOption)="removeOption(i,$event)"></app-option>
            <div fxLayoutAlign="center">
              <button mat-raised-button color="primary" (click)="this.addOption(i)">
                <mat-icon>add</mat-icon>
                Agregar opcion
              </button>
            </div>
          </mat-card>
        </div>
    </form>
</div>
